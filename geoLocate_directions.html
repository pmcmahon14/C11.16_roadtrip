<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDV8LWhOohSCpsJCV85HQ2TbfNAdiE6Vp8&callback=initMap"
            async defer></script>
    <title>Document</title>

    <style>
        #map {
            height: 100%;
        }
        /* Optional: Makes the sample page fill the window. */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>



    <script>
        var map;
        var marker;
        var mapDiv = document.getElementById('map');
        var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;

        function initMap() {
            var myLatLng = {lat: 41.850033, lng: -87.6500523};

            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 4,
                center: myLatLng,
                zoomControl: false,
                streetViewControlL: false,
                scrollWheel:false,
                styles: [
                    {
                        featureType:'water',
                        stylers:[{ color: '#599459'}]
                    }
                ]
            });

            marker = new google.maps.Marker({
                position: myLatLng,
                map: map,
                title: 'Hello World!'
            });

            var infoWindow = new google.maps.InfoWindow({map: map});

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    map.setCenter(pos);
                    marker.setPosition(pos);
                }, function() {
                    handleLocationError(true, infoWindow, map.getCenter());
                });
            } else {
                // Browser doesn't support Geolocation
                handleLocationError(false, infoWindow, map.getCenter());
            }

            function calculateAndDisplayRoute() {//direction service
                directionsDisplay.setMap(map);

                directionsService.route({
                    origin: document.getElementById('start').value, //starting location
                    destination: document.getElementById('end').value, //end location
                    travelMode: 'DRIVING'
                }, function(response, status) {
                    if (status === 'OK') {
                        directionsDisplay.setDirections(response);
                    } else {
                        window.alert('Directions request failed due to ' + status);
                    }
                });
            }
        }
    </script>
</head>
<body>
<div id="map">
</div>

</body>
</html>